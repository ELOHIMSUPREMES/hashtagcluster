if(grepl('user',fil)){
print('we have a user file')
ggplot(data = df, aes(User)) +
geom_bar()
} else if(grepl('word', fil)){
print('we have a word file')
ggplot(data = df, aes(Word)) +
geom_bar()
}
df <- read.csv(files[1])
print(head(df))
ggplot(data = df, aes(User)) +
geom_bar()
df <- read.csv(files[1])
print(head(df))
df <- subset(df, Count > 2)
ggplot(data = df, aes(User)) +
geom_bar()
df <- read.csv(files[1])
print(head(df))
df <- subset(df, Count > 2)
ggplot(data = df, aes(User)) +
geom_bar(aes(weight = Count))
df <- read.csv(files[1])
print(head(df))
df <- subset(df, Count >= 2)
ggplot(data = df, aes(User)) +
geom_bar(aes(weight = Count))
if(grepl('user',fil)){
print('we have a user file')
ggplot(data = df, aes(User)) +
geom_bar()
}
df <- read.csv(files[1])
print(head(df))
df <- subset(df, Count >= 2)
if(grepl('user',fil)){
print('we have a user file')
ggplot(data = df, aes(User)) +
geom_bar(aes(weight = Count))
}
} if(grepl('word', fil)){
print('we have a word file')
df <- read.csv(files[1])
print(head(df))
df <- subset(df, Count >= 2)
if(grepl('user',fil)){
print('we have a user file')
ggplot(data = df, aes(User)) +
geom_bar(aes(weight = Count))
}
if(grepl('word', fil)){
print('we have a word file')
ggplot(data = df, aes(Word)) +
geom_bar()
}
if(grepl('user',fil)){
print('we have a user file')
ggplot(data = df, aes(User)) +
geom_bar(aes(weight = Count))
} else if(grepl('word', fil)){
print('we have a word file')
ggplot(data = df, aes(Word)) +
geom_bar()
}
if(grepl('user',fil)){
print('we have a user file')
ggplot(data = df, aes(User)) +
geom_bar(aes(weight = Count))
} else(grepl('word', fil)){
print('we have a word file')
ggplot(data = df, aes(Word)) +
geom_bar()
if(grepl('user',fil)){
print('we have a user file')
ggplot(data = df, aes(User)) +
geom_bar(aes(weight = Count))
} else(grepl('word', fil)){
print('we have a word file')
ggplot(data = df, aes(Word)) +
geom_bar(aes(weight = Count))
if(grepl('user',fil)){
print('we have a user file')
ggplot(data = df, aes(User)) +
geom_bar(aes(weight = Count))
} else if(grepl('word', fil)){
print('we have a word file')
ggplot(data = df, aes(Word)) +
geom_bar(aes(weight = Count))
}
df <- read.csv(files[1])
print(head(df))
df <- subset(df, Count >= 2)
if(grepl('user',files[1])){
print('we have a user file')
ggplot(data = df, aes(User)) +
geom_bar(aes(weight = Count))
} else if(grepl('word', files[1])){
print('we have a word file')
ggplot(data = df, aes(Word)) +
geom_bar(aes(weight = Count))
}
for(fil in files){
df <- read.csv(fil)
print(head(df))
df <- subset(df, Count >= 2)
if(grepl('user',fil)){
print('we have a user file')
ggplot(data = df, aes(User)) +
geom_bar(aes(weight = Count))
} else if(grepl('word', fil)){
print('we have a word file')
ggplot(data = df, aes(Word)) +
geom_bar(aes(weight = Count))
}
}
for(fil in files){
df <- read.csv(fil)
print(head(df))
df <- subset(df, Count >= 2)
if(grepl('user',fil)){
print('we have a user file')
ggplot(data = df, aes(User)) +
geom_bar(aes(weight = Count))
} else if(grepl('word', fil)){
print('we have a word file')
ggplot(data = df, aes(Word)) +
geom_bar(aes(weight = Count))
}
}
for(fil in files){
df <- read.csv(fil)
print(head(df))
df <- subset(df, Count >= 2)
if(grepl('user',fil)){
print('we have a user file')
ggplot(data = df, aes(User)) +
geom_bar(aes(weight = Count)) +
ggtitle(fil)
ggsave('outtesting.jpg')
} else if(grepl('word', fil)){
print('we have a word file')
ggplot(data = df, aes(Word)) +
geom_bar(aes(weight = Count)) +
ggtitle(fil)
ggsave('outtesting.jpg')
}
}
fil
fil[:-4]
fil[-4]
substr(fil, 1,-4)
substr(fil, 1,10)
substr(fil, 1,end)
substr(fil, 1,nchar(fil)-4)
setwd('/Users/nick/Documents/math503/project1/hashtagcluster/data/millennial')
library(ggplot2)
# get list of csvs.
files = list.files(pattern="*.csv")
for(fil in files){
df <- read.csv(fil)
print(head(df))
df <- subset(df, Count >= 2)
if(grepl('user',fil)){
print('we have a user file')
ggplot(data = df, aes(User)) +
geom_bar(aes(weight = Count)) +
ggtitle(fil)
} else if(grepl('word', fil)){
print('we have a word file')
ggplot(data = df, aes(Word)) +
geom_bar(aes(weight = Count)) +
ggtitle(fil)
}
ggsave(paste(substr(fil, 1,nchar(fil)-4),'bar.jpg'))
}
ggtitle(fil) +
setwd('/Users/nick/Documents/math503/project1/hashtagcluster/data/millennial')
library(ggplot2)
# get list of csvs.
files = list.files(pattern="*.csv")
for(fil in files){
df <- read.csv(fil)
print(head(df))
df <- subset(df, Count >= 2)
if(grepl('user',fil)){
print('we have a user file')
ggplot(data = df, aes(User, color = Cluster)) +
geom_bar(aes(weight = Count)) +
ggtitle(fil) +
facet_wrap(~Cluster)
} else if(grepl('word', fil)){
print('we have a word file')
ggplot(data = df, aes(Word, color = Cluster)) +
geom_bar(aes(weight = Count)) +
ggtitle(fil) +
facet_wrap(~Cluster)
}
ggsave(paste(substr(fil, 1,nchar(fil)-4),'bar.jpg'))
}
# get list of csvs.
files = list.files(pattern="*.csv")
for(fil in files){
df <- read.csv(fil)
print(head(df))
df$Count <- as.factor(df$Count)
df <- subset(df, Count >= 2)
if(grepl('user',fil)){
print('we have a user file')
ggplot(data = df, aes(User, color = Cluster)) +
geom_bar(aes(weight = Count)) +
ggtitle(fil) +
facet_wrap(~Cluster)
} else if(grepl('word', fil)){
print('we have a word file')
ggplot(data = df, aes(Word, color = Cluster)) +
geom_bar(aes(weight = Count)) +
ggtitle(fil) +
facet_wrap(~Cluster)
}
ggsave(paste(substr(fil, 1,nchar(fil)-4),'bar.jpg'))
}
for(fil in files){
df <- read.csv(fil)
print(head(df))
df$Count <- as.factor(df$Cluster)
df <- subset(df, Count >= 2)
if(grepl('user',fil)){
print('we have a user file')
ggplot(data = df, aes(User, color = Cluster)) +
geom_bar(aes(weight = Count)) +
ggtitle(fil) +
facet_wrap(~Cluster)
} else if(grepl('word', fil)){
print('we have a word file')
ggplot(data = df, aes(Word, color = Cluster)) +
geom_bar(aes(weight = Count)) +
ggtitle(fil) +
facet_wrap(~Cluster)
}
ggsave(paste(substr(fil, 1,nchar(fil)-4),'bar.jpg'))
}
for(fil in files){
df <- read.csv(fil)
print(head(df))
df$Cluster <- as.factor(df$Cluster)
df <- subset(df, Count >= 2)
if(grepl('user',fil)){
print('we have a user file')
ggplot(data = df, aes(User, color = Cluster)) +
geom_bar(aes(weight = Count)) +
ggtitle(fil) +
facet_wrap(~Cluster)
} else if(grepl('word', fil)){
print('we have a word file')
ggplot(data = df, aes(Word, color = Cluster)) +
geom_bar(aes(weight = Count)) +
ggtitle(fil) +
facet_wrap(~Cluster)
}
ggsave(paste(substr(fil, 1,nchar(fil)-4),'bar.jpg'))
}
# change working directory to your data file path.
setwd('/Users/nick/Documents/math503/project1/hashtagcluster/data/millennial')
library(ggplot2)
# get list of csvs.
files = list.files(pattern="*.csv")
for(fil in files){
df <- read.csv(fil)
print(head(df))
df$Cluster <- as.factor(df$Cluster)
df <- subset(df, Count >= median(df$Count))
if(grepl('user',fil)){
print('we have a user file')
ggplot(data = df, aes(User, color = Cluster)) +
geom_bar(aes(weight = Count)) +
ggtitle(fil) +
facet_wrap(~Cluster)
} else if(grepl('word', fil)){
print('we have a word file')
ggplot(data = df, aes(Word, color = Cluster)) +
geom_bar(aes(weight = Count)) +
ggtitle(fil) +
facet_wrap(~Cluster)
}
ggsave(paste(substr(fil, 1,nchar(fil)-4),'bar.jpg'))
}
df <- subset(df, Count >= tail(sort(df$Count),5))
df$Count
# change working directory to your data file path.
setwd('/Users/nick/Documents/math503/project1/hashtagcluster/data/millennial')
library(ggplot2)
# get list of csvs.
files = list.files(pattern="*.csv")
for(fil in files){
df <- read.csv(fil)
print(head(df))
df$Cluster <- as.factor(df$Cluster)
df <- subset(df, Count >= tail(sort(df$Count),5))
if(grepl('user',fil)){
print('we have a user file')
ggplot(data = df, aes(User, color = Cluster)) +
geom_bar(aes(weight = Count)) +
ggtitle(fil) +
facet_wrap(~Cluster)
} else if(grepl('word', fil)){
print('we have a word file')
ggplot(data = df, aes(Word, color = Cluster)) +
geom_bar(aes(weight = Count)) +
ggtitle(fil) +
facet_wrap(~Cluster)
}
ggsave(paste(substr(fil, 1,nchar(fil)-4),'bar.jpg'))
}
# change working directory to your data file path.
setwd('/Users/nick/Documents/math503/project1/hashtagcluster/data/millennial')
library(ggplot2)
# get list of csvs.
files = list.files(pattern="*.csv")
for(fil in files){
df <- read.csv(fil)
print(head(df))
df$Cluster <- as.factor(df$Cluster)
df <- subset(df, Count >= tail(sort(df$Count),30))
if(grepl('user',fil)){
print('we have a user file')
ggplot(data = df, aes(User, color = Cluster)) +
geom_bar(aes(weight = Count)) +
ggtitle(fil) +
facet_wrap(~Cluster)
} else if(grepl('word', fil)){
print('we have a word file')
ggplot(data = df, aes(Word, color = Cluster)) +
geom_bar(aes(weight = Count)) +
ggtitle(fil) +
facet_wrap(~Cluster)
}
ggsave(paste(substr(fil, 1,nchar(fil)-4),'bar.jpg'))
}
# change working directory to your data file path.
setwd('/Users/nick/Documents/math503/project1/hashtagcluster/data/millennial')
library(ggplot2)
# get list of csvs.
files = list.files(pattern="*.csv")
for(fil in files){
df <- read.csv(fil)
print(head(df))
df$Cluster <- as.factor(df$Cluster)
df <- subset(df, Count >= tail(sort(df$Count),30))
if(grepl('user',fil)){
print('we have a user file')
ggplot(data = df, aes(User, color = Cluster)) +
geom_bar(aes(weight = Count)) +
ggtitle(fil) +
facet_wrap(~Cluster) +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
} else if(grepl('word', fil)){
print('we have a word file')
ggplot(data = df, aes(Word, color = Cluster)) +
geom_bar(aes(weight = Count)) +
ggtitle(fil) +
facet_wrap(~Cluster) +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
}
ggsave(paste(substr(fil, 1,nchar(fil)-4),'bar.jpg'))
}
source('~/Documents/math503/project1/hashtagcluster/visuals.R', echo=TRUE)
source('~/Documents/math503/project1/hashtagcluster/visuals.R', echo=TRUE)
source('~/Documents/math503/project1/hashtagcluster/visuals.R', echo=TRUE)
source('~/Documents/math503/project1/hashtagcluster/visuals.R', echo=TRUE)
source('~/Documents/math503/project1/hashtagcluster/visuals.R', echo=TRUE)
source('~/Documents/math503/project1/hashtagcluster/visuals.R', echo=TRUE)
source('~/Documents/math503/project1/hashtagcluster/visuals.R', echo=TRUE)
df$Cluster
df
df <- read.csv(fil)
df$Cluster <- as.factor(df$Cluster)
df$Cluster
df <- read.csv(fil)
df
str(df)
range(df$Cluster)
source('~/Documents/math503/project1/hashtagcluster/visuals.R', echo=TRUE)
source('~/Documents/math503/project1/hashtagcluster/visuals.R', echo=TRUE)
source('~/Documents/math503/project1/hashtagcluster/visuals.R', echo=TRUE)
source('~/Documents/math503/project1/hashtagcluster/visuals.R', echo=TRUE)
source('~/Documents/math503/project1/hashtagcluster/visuals.R', echo=TRUE)
for(k in range(0,2)){}
for(k in range(0,2)){
print(k)
}
source('~/Documents/math503/project1/hashtagcluster/visuals.R', echo=TRUE)
source('~/Documents/math503/project1/hashtagcluster/visuals.R', echo=TRUE)
source('~/Documents/math503/project1/hashtagcluster/visuals.R', echo=TRUE)
df
source('~/Documents/math503/project1/hashtagcluster/visuals.R', echo=TRUE)
source('~/Documents/math503/project1/hashtagcluster/visuals.R', echo=TRUE)
warnings()
source('~/Documents/math503/project1/hashtagcluster/visuals.R', echo=TRUE)
ggtitle(fil) +
theme(axis.text.x = element_text(angle = 90, hjust = 1, vjust = 1))
ggsave(paste(substr(fil, 1,nchar(fil)-4),'bar.jpg'))
}
g + geom_bar(aes(weight = Count), position = 'dodge') +
ggtitle(fil) +
theme(axis.text.x = element_text(angle = 90, hjust = 1, vjust = 1))
ggsave(paste(substr(fil, 1,nchar(fil)-4),'bar.jpg'))
}
# change working directory to your data file path.
setwd('/Users/nick/Documents/math503/project1/hashtagcluster/data/millennial')
library(ggplot2)
library(tm)
library(SnowballC)
library(wordcloud)
# get list of csvs.
files = list.files(pattern="*.csv")
for(fil in files){
# load data
df <- read.csv(fil)
new_df = df[FALSE,]
# lets only look at the top 50% words or users in a cluster
for(k in c(min(df$Cluster):max(df$Cluster))){
print(k)
dfa <- subset(df, Cluster == k)
dfa <- subset(dfa, Count >= median(Count))
print(head(df))
new_df <- rbind(new_df,dfa)
}
df <- new_df
df$Cluster <- as.factor(df$Cluster)
if(grepl('user',fil)){
print('we have a user file')
g <- ggplot(data = df, aes(User, color = Cluster, fill = Cluster))
} else if(grepl('word', fil)){
print('we have a word file')
g <- ggplot(data = df, aes(Word, color = Cluster, fill = Cluster))
}
g + geom_bar(aes(weight = Count), position = 'dodge') +
ggtitle(fil) +
theme(axis.text.x = element_text(angle = 90, hjust = 1, vjust = 1))
ggsave(paste(substr(fil, 1,nchar(fil)-4),'bar.jpg'))
}
source('~/Documents/math503/project1/hashtagcluster/visuals.R', echo=TRUE)
source('~/Documents/math503/project1/hashtagcluster/visuals.R', echo=TRUE)
install.packages('wordcloud')
library(wordcloud)
install.package(slam)
install.packages(slam)
install.packages("wordcloud")
install.packages("wordcloud2")
library(wordcloud2)
wordcloud2(df)
df
str(df)
wordcloud2(df$Word, df$Count)
wordcloud2(data.frame(c(df$Word, df$Count)))
data.frame(c(df$Word, df$Count))
str(data.frame(c(df$Word, df$Count)))
str(data.frame(df$Word, df$Count))
df$Word
quantile(df$Count)
quantile(df$Count)[4]
quantile(df$Count)[4][2]
quantile(df$Count)[4][1]
quantile(df$Count)[4][0]
type(quantile(df$Count)[4])
typeof(quantile(df$Count)[4])
typeof(quantile(df$Count)[4][1])
typeof(quantile(df$Count)[4][1][1])
quantile(df$Count)[4][1][1]
quantile(df$Count)[4].5
quantile(df$Count)[4]$75%
quantile(df$Count, names = FALSE)[4]
source('~/Documents/math503/project1/hashtagcluster/visuals.R', echo=TRUE)
source('~/Documents/math503/project1/hashtagcluster/visuals.R', echo=TRUE)
source('~/Documents/math503/project1/hashtagcluster/visuals.R', echo=TRUE)
source('~/Documents/math503/project1/hashtagcluster/visuals.R', echo=TRUE)
source('~/Documents/math503/project1/hashtagcluster/visuals.R', echo=TRUE)
source('~/Documents/math503/project1/hashtagcluster/visuals.R', echo=TRUE)
View(new_df)
View(new_df)
install.packages("tm")  # for text mining
install.package("SnowballC") # for text stemming
install.packages("wordcloud") # word-cloud generator
install.packages("RColorBrewer") # color palettes
install.packages("RColorBrewer")
library("tm")
library("SnowballC")
library("wordcloud")
library("RColorBrewer")
View(df)
barplot(df[1:10,]$Count, las = 2, names.arg = df[1:10,]$User,
col ="lightblue", main ="Most frequent words",
ylab = "Word frequencies")
View(dfa)
source('~/Documents/math503/project1/hashtagcluster/visuals.R', echo=TRUE)
source('~/Documents/math503/project1/hashtagcluster/visuals.R', echo=TRUE)
source('~/Documents/math503/project1/hashtagcluster/visuals.R', echo=TRUE)
source('~/Documents/math503/project1/hashtagcluster/visuals.R', echo=TRUE)
source('~/Documents/math503/project1/hashtagcluster/visuals.R', echo=TRUE)
source('~/Documents/math503/project1/hashtagcluster/visuals.R', echo=TRUE)
source('~/Documents/math503/project1/hashtagcluster/visuals.R', echo=TRUE)
source('~/Documents/math503/project1/hashtagcluster/visuals.R', echo=TRUE)
c(min(df$Cluster):max(df$Cluster))
source('~/Documents/math503/project1/hashtagcluster/visuals.R', echo=TRUE)
source('~/Documents/math503/project1/hashtagcluster/visuals.R', echo=TRUE)
substr(fil, 1,nchar(fil)-4)
substr(fil, 1,nchar(fil)-4)
df$Count
sum(df$Count)
df$Count / sum(df$Count)
source('~/Documents/math503/project1/hashtagcluster/visuals.R', echo=TRUE)
